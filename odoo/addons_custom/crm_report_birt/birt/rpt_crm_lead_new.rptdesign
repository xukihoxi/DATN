<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.5.0.v201506092134 Build &lt;@BUILD@></property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="layoutPreference">auto layout</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <list-property name="cssStyleSheets">
        <structure>
            <property name="fileName">StyleBirt.css</property>
            <property name="useExternalCss">false</property>
        </structure>
        <structure>
            <property name="fileName">StyleBirt.css</property>
            <property name="useExternalCss">false</property>
        </structure>
    </list-property>
    <parameters>
        <scalar-parameter name="to_date" id="376">
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2018-09-30</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Short Date</property>
                <property name="pattern">Short Date</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="from_date" id="377">
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2018-09-10</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Short Date</property>
                <property name="pattern">Short Date</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="x_pos_config" id="572">
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">1</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="4">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">org.postgresql.Driver</property>
            <property name="odaURL">jdbc:postgresql://localhost:5432/erp_amia_191205</property>
            <property name="odaUser">odoo_amia_beauty</property>
            <encrypted-property name="odaPassword" encryptionID="base64">YW1pYV9iZWF1dHkkaXppMjAxOQ==</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Data Set" id="379">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">sum</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">sum</text-property>
                    <text-property name="heading">sum</text-property>
                </structure>
                <structure>
                    <property name="columnName">khach_hang</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">khach_hang</text-property>
                    <text-property name="heading">khach_hang</text-property>
                </structure>
                <structure>
                    <property name="columnName">dia_chi</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">dia_chi</text-property>
                    <text-property name="heading">dia_chi</text-property>
                </structure>
                <structure>
                    <property name="columnName">sdt</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">sdt</text-property>
                    <text-property name="heading">sdt</text-property>
                </structure>
                <structure>
                    <property name="columnName">nhanvienbanhang</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">nhanvienbanhang</text-property>
                    <text-property name="heading">nhanvienbanhang</text-property>
                </structure>
                <structure>
                    <property name="columnName">string_agg</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">string_agg</text-property>
                    <text-property name="heading">string_agg</text-property>
                </structure>
                <structure>
                    <property name="columnName">name</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">name</text-property>
                    <text-property name="heading">name</text-property>
                </structure>
                <structure>
                    <property name="columnName">date_open</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">date_open</text-property>
                    <text-property name="heading">date_open</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">from_date</property>
                    <property name="nativeName"></property>
                    <property name="dataType">date</property>
                    <property name="nativeDataType">91</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">to_date</property>
                    <property name="nativeName"></property>
                    <property name="dataType">date</property>
                    <property name="nativeDataType">91</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">x_pos_config</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">x_pos_config</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">sum</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">khach_hang</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">dia_chi</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">sdt</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">nhanvienbanhang</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">string_agg</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">date_open</property>
                        <property name="dataType">date-time</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">sum</property>
                    <property name="nativeName">sum</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">khach_hang</property>
                    <property name="nativeName">khach_hang</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">dia_chi</property>
                    <property name="nativeName">dia_chi</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">sdt</property>
                    <property name="nativeName">sdt</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">nhanvienbanhang</property>
                    <property name="nativeName">nhanvienbanhang</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">string_agg</property>
                    <property name="nativeName">string_agg</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">name</property>
                    <property name="nativeName">name</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">date_open</property>
                    <property name="nativeName">date_open</property>
                    <property name="dataType">date-time</property>
                    <property name="nativeDataType">93</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[SELECT sum(doanh_thu),i.name khach_hang, i.street dia_chi, i.phone sdt,d.nhanvienbanhang,string_agg(p.name, ', '), cl.name, cl.date_open
FROM

(SELECT CASE WHEN (a.tongtt + b.tonght + c.tonghuyle ) is null and (a.tongtt + c.tonghuyle) is Null and (a.tongtt + b.tonght) is Null THEN a.tongtt
            WHEN (a.tongtt + b.tonght + c.tonghuyle ) is null and (a.tongtt + b.tonght) is Null and  (a.tongtt + c.tonghuyle) is not Null THEN a.tongtt + c.tonghuyle
            WHEN (a.tongtt + b.tonght + c.tonghuyle ) is null and (a.tongtt + b.tonght) is not Null and  (a.tongtt + c.tonghuyle) is Null THEN a.tongtt + b.tonght
            WHEN (a.tongtt + b.tonght + c.tonghuyle ) is not null THEN a.tongtt + b.tonght + c.tonghuyle
            END as doanh_thu, a.partner_id, a.donhang, b.donrefund,a.name nhanvienbanhang
FROM (
     SELECT CASE WHEN po.invoice_id is not null  THEN SUM(ap.amount)
                 WHEN po.invoice_id is null  THEN SUM(absl.amount)
                 END AS tongtt, po.id donhang, po.partner_id, rr.name
						FROM pos_order po
            LEFT JOIN account_invoice ai ON po.invoice_id = ai.id and po.invoice_id is not null
            LEFT JOIN account_bank_statement_line absl ON absl.name LIKE CONCAT(po.name,'%') and po.invoice_id is null
						INNER JOIN crm_lead k ON k.partner_id = po.partner_id
            INNER JOIN resource_resource rr ON rr.user_id =  k.user_id
						INNER JOIN res_partner r ON r.id =  k.partner_id
						LEFT JOIN account_invoice_payment_rel rel ON ai.id = rel.invoice_id and po.invoice_id is not null
						LEFT JOIN account_payment ap ON ap.id =  rel.payment_id and po.invoice_id is not null
						INNER JOIN account_journal j ON ap.journal_id = j.id OR j.id = absl.journal_id 
						where (j.type = 'bank' or j.type = 'cash') and po.create_date::date = k.create_date::date 
						and k.create_date::date = r.create_date::date and po.x_pos_partner_refund_id is null
						GROUP BY  po.id,po.partner_id,rr.name
           )
     AS a
LEFT JOIN
(SELECT SUM(absl.amount) tonght, absl.partner_id, rpo.x_pos_partner_refund_id donhang, rpo.id donrefund
				FROM pos_order rpo 
				INNER JOIN account_bank_statement_line absl ON absl.name LIKE CONCAT(rpo.name,'%') 
				INNER JOIN account_journal j ON j.id = absl.journal_id
				INNER JOIN crm_lead k ON k.partner_id = rpo.partner_id
				INNER JOIN res_partner r ON r.id =  k.partner_id
        INNER JOIN journal_loyal_rel pc ON j.id in (pc.account_journal_id)
        WHERE k.create_date::date = r.create_date::date 
        and rpo.x_pos_partner_refund_id is not null
				GROUP BY absl.name,absl.partner_id,rpo.x_pos_partner_refund_id, rpo.id) AS b 
			ON a.donhang =  b.donhang
LEFT JOIN 
(SELECT SUM(absl.amount) tonghuyle, absl.partner_id, po.id donhang, rpo.id donrefund
				FROM pos_order po
				INNER JOIN pos_destroy_service rpo ON rpo.pos_order_id= po.id
				INNER JOIN account_bank_statement_line absl ON absl.name LIKE rpo.name 
        INNER JOIN pos_config pf ON pf.journal_deposit_id = absl.journal_id
				INNER JOIN crm_lead k ON k.partner_id = po.partner_id
				INNER JOIN res_partner r ON r.id =  k.partner_id
				where po.create_date::date = k.create_date::date
				and k.create_date::date = r.create_date::date and rpo.new_order_id is not null
				GROUP BY absl.name,absl.partner_id,po.id, rpo.id ) AS c
      ON a.donhang =  c.donhang) d
INNER JOIN res_partner i ON d.partner_id = i.id 
INNER JOIN pos_order p ON (p.id =  d.donhang) OR (p.id = d.donrefund)
JOIN crm_lead cl ON cl.partner_id = i.id
INNER JOIN res_users ru ON cl.user_id = ru.id
INNER JOIN pos_config pc ON ru.x_pos_config_id =  pc.id
WHERE cl.create_date::date >= ? and cl.create_date::date <= ? and pc.id = ANY(string_to_array( ?, ',')::integer[]) or ? = '0'
GROUP BY d.partner_id, d.nhanvienbanhang, i.name, i.street, i.phone, cl.date_open, cl.name


]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <DataSetParameters>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>4</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
  </DataSetParameters>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>tennhanvien</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>2147483647</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>tennhanvien</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>tennhanvien</design:label>
            <design:formattingHints>
              <design:displaySize>2147483647</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>name</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>2147483647</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>name</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>name</design:label>
            <design:formattingHints>
              <design:displaySize>2147483647</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>id</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>id</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>id</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>trangthai</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>2147483647</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>trangthai</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>trangthai</design:label>
            <design:formattingHints>
              <design:displaySize>2147483647</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>partner_name</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>2147483647</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>partner_name</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>partner_name</design:label>
            <design:formattingHints>
              <design:displaySize>2147483647</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>phone</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>2147483647</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>phone</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>phone</design:label>
            <design:formattingHints>
              <design:displaySize>2147483647</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ngay</design:name>
              <design:position>7</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>91</design:nativeDataTypeCode>
            <design:precision>13</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Unknown</design:nullability>
            <design:uiHints>
              <design:displayName>ngay</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ngay</design:label>
            <design:formattingHints>
              <design:displaySize>13</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="540">
            <property name="fontFamily">"Arial"</property>
            <property name="fontSize">11pt</property>
        </style>
        <style name="page" id="541"/>
        <style name="data" id="542"/>
        <style name="text" id="543"/>
        <style name="grid" id="544"/>
        <style name="grid-row" id="545">
            <property name="paddingTop">3px</property>
            <property name="paddingLeft">3px</property>
            <property name="paddingBottom">3px</property>
            <property name="paddingRight">3px</property>
        </style>
        <style name="grid-cell" id="546"/>
        <style name="table" id="547">
            <property name="paddingTop">4px</property>
            <property name="paddingLeft">4px</property>
            <property name="paddingBottom">4px</property>
            <property name="paddingRight">4px</property>
        </style>
        <style name="table-cell" id="548">
            <property name="borderBottomColor">black</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1px</property>
            <property name="borderLeftColor">black</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1px</property>
            <property name="borderRightColor">black</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1px</property>
            <property name="borderTopColor">black</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1px</property>
            <property name="paddingTop">3px</property>
            <property name="paddingLeft">3px</property>
            <property name="paddingBottom">3px</property>
            <property name="paddingRight">3px</property>
        </style>
        <style name="table-header" id="549">
            <property name="backgroundColor">#CCCCCC</property>
            <property name="fontWeight">bold</property>
        </style>
        <style name="table-header-cell" id="550"/>
        <style name="table-footer" id="551">
            <property name="fontWeight">bold</property>
            <property name="textAlign">right</property>
        </style>
        <style name="table-footer-cell" id="552"/>
        <style name="table-detail" id="553"/>
        <style name="table-detail-cell" id="554"/>
        <style name="crosstab" id="555"/>
        <style name="crosstab-header" id="556">
            <property name="backgroundColor">#0099FF</property>
        </style>
        <style name="crosstab-cell" id="557">
            <property name="borderBottomColor">black</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1px</property>
            <property name="borderLeftColor">black</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1px</property>
            <property name="borderRightColor">black</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1px</property>
            <property name="borderTopColor">black</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1px</property>
            <property name="paddingTop">3px</property>
            <property name="paddingLeft">3px</property>
            <property name="paddingBottom">3px</property>
            <property name="paddingRight">3px</property>
        </style>
        <style name="crosstab-column-header" id="558">
            <property name="backgroundColor">#CCCCCC</property>
        </style>
        <style name="crosstab-row-header" id="559">
            <property name="backgroundColor">#CCCCCC</property>
        </style>
        <style name="crosstab-row-grand-total" id="560">
            <property name="fontWeight">bold</property>
        </style>
        <style name="crosstab-column-grand-total" id="561">
            <property name="fontWeight">bold</property>
        </style>
        <style name="crosstab-row-sub-total" id="562">
            <property name="fontWeight">bold</property>
        </style>
        <style name="crosstab-column-sub-total" id="563">
            <property name="fontWeight">bold</property>
        </style>
        <style name="reportTitle" id="564">
            <property name="fontSize">16pt</property>
            <property name="fontWeight">bold</property>
            <property name="textAlign">center</property>
        </style>
        <style name="reportHeader1" id="565">
            <property name="fontSize">13pt</property>
            <property name="textAlign">center</property>
        </style>
        <style name="reportHeader2" id="566">
            <property name="fontSize">13pt</property>
            <property name="fontWeight">bold</property>
            <property name="textAlign">center</property>
        </style>
        <style name="master1" id="567">
            <property name="textAlign">left</property>
        </style>
        <style name="reportFooter1" id="568">
            <property name="fontSize">13pt</property>
            <property name="fontWeight">bold</property>
            <property name="textAlign">center</property>
        </style>
        <style name="reportFooter2" id="569">
            <property name="fontSize">13pt</property>
            <property name="textAlign">center</property>
        </style>
        <style name="reportFooter3" id="570">
            <property name="fontSize">13pt</property>
            <property name="fontStyle">italic</property>
            <property name="textAlign">center</property>
        </style>
        <style name="reportHeaderDate" id="571">
            <property name="fontSize">13pt</property>
            <property name="fontStyle">italic</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2"/>
    </page-setup>
    <body>
        <table id="380">
            <property name="fontFamily">serif</property>
            <property name="dataSet">Data Set</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">name</property>
                    <text-property name="displayName">name</text-property>
                    <expression name="expression" type="javascript">dataSetRow["name"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">stt</property>
                    <expression name="expression" type="javascript">row.__rownum+1</expression>
                    <property name="dataType">integer</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">date_open</property>
                    <text-property name="displayName">date_open</text-property>
                    <expression name="expression" type="javascript">dataSetRow["date_open"]</expression>
                    <property name="dataType">date</property>
                </structure>
                <structure>
                    <property name="name">nhanvienbanhang</property>
                    <text-property name="displayName">nhanvienbanhang</text-property>
                    <expression name="expression" type="javascript">dataSetRow["nhanvienbanhang"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">string_agg</property>
                    <text-property name="displayName">string_agg</text-property>
                    <expression name="expression" type="javascript">dataSetRow["string_agg"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">sum</property>
                    <text-property name="displayName">sum</text-property>
                    <expression name="expression" type="javascript">dataSetRow["sum"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">khach_hang</property>
                    <text-property name="displayName">khach_hang</text-property>
                    <expression name="expression" type="javascript">dataSetRow["khach_hang"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">sdt</property>
                    <text-property name="displayName">sdt</text-property>
                    <expression name="expression" type="javascript">dataSetRow["sdt"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">dia_chi</property>
                    <text-property name="displayName">dia_chi</text-property>
                    <expression name="expression" type="javascript">dataSetRow["dia_chi"]</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <property name="pageBreakInterval">0</property>
            <column id="408">
                <property name="width">0.5in</property>
            </column>
            <column id="409"/>
            <column id="532"/>
            <column id="410"/>
            <column id="411"/>
            <column id="522"/>
            <column id="412"/>
            <column id="577"/>
            <column id="413"/>
            <header>
                <row id="434">
                    <property name="backgroundColor">#FFFFFF</property>
                    <property name="color">#000000</property>
                    <cell id="435">
                        <property name="colSpan">9</property>
                        <property name="rowSpan">1</property>
                        <property name="borderBottomStyle">none</property>
                        <property name="borderLeftStyle">none</property>
                        <property name="borderRightStyle">none</property>
                        <property name="borderTopStyle">none</property>
                        <label id="502">
                            <property name="fontFamily">serif</property>
                            <text-property name="text">Báo cáo khách hàng mới</text-property>
                        </label>
                    </cell>
                </row>
                <row id="381">
                    <property name="backgroundColor">#FFFFFF</property>
                    <property name="color">#000000</property>
                    <cell id="382">
                        <property name="colSpan">9</property>
                        <property name="rowSpan">1</property>
                        <property name="borderBottomStyle">none</property>
                        <property name="borderLeftStyle">none</property>
                        <property name="borderRightStyle">none</property>
                        <property name="borderTopStyle">none</property>
                        <text-data id="516">
                            <expression name="valueExpr">'Từ ngày ' + params["from_date"].value + ' đến ngày ' + params["to_date"].value</expression>
                            <property name="contentType">html</property>
                        </text-data>
                    </cell>
                </row>
                <row id="416">
                    <property name="backgroundColor">#FFFF00</property>
                    <property name="color">#000000</property>
                    <cell id="417">
                        <label id="510">
                            <text-property name="text">STT</text-property>
                        </label>
                    </cell>
                    <cell id="418">
                        <label id="511">
                            <text-property name="text">Ngày</text-property>
                        </label>
                    </cell>
                    <cell id="530">
                        <label id="539">
                            <text-property name="text">Cơ hội</text-property>
                        </label>
                    </cell>
                    <cell id="419">
                        <label id="512">
                            <text-property name="text">Tên nhân viên</text-property>
                        </label>
                    </cell>
                    <cell id="420">
                        <label id="513">
                            <text-property name="text">Đơn hàng</text-property>
                        </label>
                    </cell>
                    <cell id="520">
                        <label id="514">
                            <text-property name="text">Khách hàng</text-property>
                        </label>
                    </cell>
                    <cell id="421">
                        <label id="515">
                            <text-property name="text">Số điện thoại</text-property>
                        </label>
                    </cell>
                    <cell id="575">
                        <label id="578">
                            <text-property name="text">Địa chỉ</text-property>
                        </label>
                    </cell>
                    <cell id="422">
                        <label id="523">
                            <text-property name="text">Doanh thu ghi nhận</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="390">
                    <cell id="391">
                        <data id="509">
                            <property name="resultSetColumn">stt</property>
                        </data>
                    </cell>
                    <cell id="392">
                        <data id="526">
                            <structure name="dateTimeFormat">
                                <property name="category">Custom</property>
                                <property name="pattern">dd/MM/yyyy</property>
                                <property name="locale">vi_VN</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="display">inline</property>
                            <property name="resultSetColumn">date_open</property>
                        </data>
                    </cell>
                    <cell id="531">
                        <data id="533">
                            <property name="resultSetColumn">name</property>
                        </data>
                    </cell>
                    <cell id="393">
                        <data id="534">
                            <property name="resultSetColumn">nhanvienbanhang</property>
                        </data>
                    </cell>
                    <cell id="394">
                        <data id="535">
                            <property name="resultSetColumn">string_agg</property>
                        </data>
                    </cell>
                    <cell id="521">
                        <data id="537">
                            <property name="resultSetColumn">khach_hang</property>
                        </data>
                    </cell>
                    <cell id="395">
                        <data id="538">
                            <property name="resultSetColumn">sdt</property>
                        </data>
                    </cell>
                    <cell id="576">
                        <data id="579">
                            <property name="resultSetColumn">dia_chi</property>
                        </data>
                    </cell>
                    <cell id="396">
                        <data id="536">
                            <property name="fontFamily">monospace</property>
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">#,##0.00{RoundingMode=HALF_UP}</property>
                                <property name="locale">vi_VN</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">sum</property>
                        </data>
                    </cell>
                </row>
            </detail>
        </table>
    </body>
</report>